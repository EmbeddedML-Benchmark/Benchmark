#include "model_data.h"  // ???? ??? ????? ???

#define MODEL_INPUT_SIZE 16000  // ?????? ????? ???? ?? ???? ???? ????? ???
#define MODEL_OUTPUT_SIZE 12    // ?????? ????? ???? ?? ???? ???? ????? ???

int main(void)
{
    // ???????? ????? ?????????
    // ?? ?????? ?? ??? ??????? ?? ????? HAL? ????????? ?? ????? ????????? C ???? ???????? ????? ??????? ????.

    // ????? ????? ???? ???????? ????? ? ?????
    int16_t input_data[MODEL_INPUT_SIZE];
    int8_t output_data[MODEL_OUTPUT_SIZE];

    // ???? ????
    while (1)
    {
        // ?????? ???????? ????
        // ?? ?????? ???? ????? ???? ?????? ???????? ???? ?? ??????? ?????????? ????.
        // ?? ????? ????:
        // capture_audio(input_data, MODEL_INPUT_SIZE);

        // ????? ???????
        // ?? ?????? ???? ??? ???? ????? ??????? ??? ????? ????.
        // ?? ????? ????:
        // run_inference(input_data, output_data);

        // ?????? ?????
        int predicted_label = -1;
        int8_t max_score = INT8_MIN;
        for (int i = 0; i < MODEL_OUTPUT_SIZE; i++) {
            if (output_data[i] > max_score) {
                max_score = output_data[i];
                predicted_label = i;
            }
        }

        // ????? ?????
        // ?? ?????? ???? ????? ???? ????? ????? ?????????? ????.
        // ?? ????? ????:
        // display_result(predicted_label);
    }
}
